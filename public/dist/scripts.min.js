!function(){angular.module("UPayApp",["firebase","ui.bootstrap","ui.router"])}(),function(){function e(e,n,o){var t=[],a=e/o.length;return $.each(o,function(e,o){var r=!0;n==o.name&&(r=!1);var s=(o.name,{id:e,name:o.name,sum:a,active:r});t.push(s)}),console.log("Jaot: "+t[0].sum+" / hl√∂"),t}var n=angular.module("UPayApp");n.factory("paymentList",["$firebaseArray",function(e){var n=new Firebase("https://dazzling-torch-7927.firebaseio.com/rest/project1/payments");return e(n)}]),n.controller("PaymentController",["$scope","paymentList","$firebaseArray",function(n,o,t){var a=new Firebase("https://dazzling-torch-7927.firebaseio.com/rest/project1/payments");n.payments=o,this.active=!1,this.shares=[],n.updateSum=function(e){n.active=!0},n.initPayment=function(e,o){console.log(e),n.active=!0,n.payment.name=e,n.persons=o},n.changeActivity=function(e,n,o){console.log(n+"   "+e+"   "+o);var t=a.child(""+e).child("shares/"+n);console.log(t),t.update({active:o})},n.addPayment=function(){n.payments.$add({createdDate:Firebase.ServerValue.TIMESTAMP,sum:n.payment.sum,payer:n.payment.name,description:"Maksettu: "+new Date(Date.now()).toLocaleString(),shares:e(n.payment.sum,n.payment.name,n.persons)}).then(function(){alert("Payment saved!")})["catch"](function(e){alert("Error!")}),n.payment.name="",n.payment.sum=0,n.active=!1}}])}(),function(){var e=angular.module("UPayApp");e.factory("personList",["$firebaseArray",function(e){var n=new Firebase("https://dazzling-torch-7927.firebaseio.com/rest/project1/persons");return e(n)}]),e.controller("PersonListController",["$scope","personList",function(e,n){e.persons=n,e.addPerson=function(){e.persons.$add({name:e.person,sum:0}),e.person=""}}])}(),function(){function e(e){e.project={name:"Uusi"},e.addNewProject=function(){e.project={name:e.newProject},e.newProject="",console.log(this.project)}}angular.module("UPayApp").controller("ProjectController",["$scope",e])}(),function(){function e(e){e.todos=["Learn Angular","Learn Node.js","Drink beer"],e.addTodo=function(){e.todos.push(e.newTodo),e.newTodo=""}}angular.module("UPayApp").controller("TodoListController",["$scope",e])}();